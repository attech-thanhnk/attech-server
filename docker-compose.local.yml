# Local Development Override
# Usage: docker-compose -f docker-compose.fullstack.yml -f docker-compose.local.yml up -d

services:
  # Build backend from source for local development
  backend:
    build:
      context: .
      dockerfile: Dockerfile

  # Build frontend from source for local development
  frontend:
    build:
      context: ${FRONTEND_SOURCE_DIR:-../attech-client}
      dockerfile: Dockerfile
      args:
        REACT_APP_API_PROTOCOL: ${REACT_APP_API_PROTOCOL:-http}
        REACT_APP_API_HOST: ${REACT_APP_API_HOST:-localhost}
        REACT_APP_API_PORT: ${REACT_APP_API_PORT:-}
        REACT_APP_API_BASE_PATH: ${REACT_APP_API_BASE_PATH:-/api}
